/*!
 * vue-shave v1.0.0
 * git+https://github.com/quantity-digital/vue-shave.git
 * Released under the MIT License.
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("shave/dist/shave")):"function"==typeof define&&define.amd?define(["shave/dist/shave"],t):e.VueResource=t(e.shave)}(this,function(e){"use strict";function t(e,t,n){t||(t=250);var r,s;return function(){var a=n||this,i=+new Date,h=arguments;r&&i<r+t?(clearTimeout(s),s=setTimeout(function(){r=i,e.apply(a,h)},t)):(r=i,e.apply(a,h))}}e=e&&"default"in e?e.default:e;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return{shavers:[],defaults:{height:100,throttle:300,spaces:null,character:null},settings:{},install:function(r,s){var a=this;this.settings=n({},this.defaults,s);var i=t(this.settings.throttle,!1,this.runShavers),h=this;window&&window.addEventListener("load",function(){return a.runShavers()}),r.directive("shave",{bind:function(t,n){var r="value"in n&&"height"in n.value?n.value.height:h.settings.height,s="value"in n&&"character"in n.value?n.value.character:h.settings.character,a="value"in n&&"spaces"in n.value?n.value.spaces:h.settings.spaces;h.shavers.push({el:t,shaveFn:function(){console.log("shaving"),e(t,r,{character:s,spaces:a})}}),1===h.shavers.length&&window.addEventListener("resize",i)},unbind:function(e){h.removeShaver(e),0===h.shavers.length&&window.removeEventListener("resize",i)},inserted:function(e){h.runShaver(e)},componentUpdated:function(e){h.runShaver(e)}})},runShavers:function(){this.shavers.forEach(function(e){return e.shaveFn()})},runShaver:function(e){var t=this.getShaver(e);t&&t.shaveFn&&t.shaveFn()},getShaver:function(e){var t=this.shavers.filter(function(t){return t.el===e});return t.length?t[0]:null},removeShaver:function(e){this.shavers=this.shavers.filter(function(t){return t.el!==e})}}});